// Generated by CoffeeScript 1.4.0
(function() {

  define(['components/vector'], function(Vector) {
    var UserMovable;
    UserMovable = (function() {

      function UserMovable(entities) {
        var _this = this;
        this.entities = entities;
        this.mouseVector = new Vector(0, 0);
        document.getElementById('canvas').addEventListener('mousemove', function(e) {
          _this.mouseVector.x = e.offsetX;
          return _this.mouseVector.y = e.offsetY;
        });
        return this;
      }

      UserMovable.prototype.tick = function(delta) {
        var entity, id, physics, _ref, _results;
        _ref = this.entities.entitiesIndex.userMovable;
        _results = [];
        for (id in _ref) {
          entity = _ref[id];
          if (entity.hasComponent('physics')) {
            physics = entity.components.physics;
            _results.push(physics.applyForce(this.mouseVector.copy().subtract(entity.components.position)));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      };

      return UserMovable;

    })();
    return UserMovable;
  });

}).call(this);
