// Generated by CoffeeScript 1.4.0
(function() {

  define([], function() {
    var Physics, canvas, context;
    canvas = document.getElementById('canvas');
    context = canvas.getContext('2d');
    Physics = (function() {

      function Physics(entities) {
        this.entities = entities;
        return this;
      }

      Physics.prototype.tick = function(delta) {
        var entity, id, physics, _ref, _results;
        _ref = this.entities.entitiesIndex['physics'];
        _results = [];
        for (id in _ref) {
          entity = _ref[id];
          physics = entity.components.physics;
          if (entity.hasComponent('randomWalker')) {
            physics.applyForce(entity.components.randomWalker.walkForce());
          }
          if (entity.hasComponent('flocking')) {
            entity.components.flocking.flock(this.entities.entitiesIndex.flocking);
          }
          _results.push(entity.components.physics.tick(delta));
        }
        return _results;
      };

      return Physics;

    })();
    return Physics;
  });

}).call(this);
