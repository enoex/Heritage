// Generated by CoffeeScript 1.4.0
(function() {

  define(['components/all', 'events'], function(Components, events) {
    var Entity;
    Entity = (function() {

      function Entity(params) {
        this.id = null;
        this.components = {};
        return this;
      }

      Entity.prototype.remove = function() {
        var component, name, _ref;
        _ref = this.components;
        for (name in _ref) {
          component = _ref[name];
          if (component && component.remove) {
            component.remove;
          }
        }
        return this;
      };

      Entity.prototype.addComponent = function(name, params) {
        this.components[name] = new Components[name](this, params);
        events.trigger('entity:component:added', {
          id: this.id,
          componentName: name
        });
        return this;
      };

      Entity.prototype.addComponents = function(names) {
        var name, _i, _len;
        for (_i = 0, _len = names.length; _i < _len; _i++) {
          name = names[_i];
          this.addComponent(name);
        }
        return this;
      };

      Entity.prototype.removeComponent = function(name) {
        if (this.components[name] && this.components[name].destroy) {
          this.components[name].destroy();
        }
        delete this.components[name];
        events.trigger('entity:component:removed', {
          id: this.id,
          componentName: name
        });
        return this;
      };

      Entity.prototype.hasComponent = function(name) {
        if (this.components[name]) {
          return true;
        } else {
          return false;
        }
      };

      Entity.prototype.getComponentNames = function() {
        var component, name, names, _ref;
        names = [];
        _ref = this.components;
        for (name in _ref) {
          component = _ref[name];
          names.push(name);
        }
        return names;
      };

      return Entity;

    })();
    return Entity;
  });

}).call(this);
